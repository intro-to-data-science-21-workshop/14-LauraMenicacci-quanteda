docvars() %>%
names() #meta data information
docvars(date #meta data information
manifesto_corpus %>%
manifesto_corpus %>%
docvars(date) #meta data information
manifesto_corpus %>%
docvars() %>%
names() #meta data information
manifesto_corpus
View(manifesto)
brexit_tokens <- manifesto_corpus %>%
tokens()
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date => 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
brexit_sent
View(brexit_sent)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date => 2016) %>%
dfm_lookup(data_dictionary_LSD2015)
brexit_sent
feature_frequencies_cat <- manifesto_dfm %>% textstat_frequency(n = 10, group = cmp_code)
scotland_corpus <- manifesto_corpus %>%
corpus_subset(party == "51902")
tokenized_manifesto <- scotland_corpus %>%
tokens() %>%
tokens(remove_punct = TRUE, remove_numbers = TRUE) %>%
tokens_tolower() %>%
tokens_remove(stopwords("english")) %>% ##remove will
tokens_wordstem()
tokenized_manifesto
manifesto_dfm <- tokenized_manifesto %>%
dfm() %>%
dfm_subset(!(cmp_code %in% c("H", "", "0", "000", NA))) %>%
dfm_group(cmp_code) %>%
dfm_weight(scheme = "prop") %>%
dfm_subset(cmp_code %in% c("301", "110", "108"))
manifesto_dfm
feature_frequencies_cat <- manifesto_dfm %>% textstat_frequency(n = 10, group = cmp_code)
feature_frequencies_cat %>%
mutate(cmp_code = factor(group, labels = c("European Union: Positive", "Federalism", "European Union: Negative"))) %>%
ggplot(aes(x = reorder(feature, frequency), y = frequency, fill = cmp_code)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "share of words per category") +
facet_wrap(~cmp_code, ncol = 2, scales = "fixed") +
coord_flip()
feature_frequencies_cat %>%
mutate(cmp_code = factor(group, labels = c("European Union: Positive", "Federalism", "European Union: Negative"))) %>%
ggplot(aes(x = reorder(feature, frequency), y = frequency, fill = cmp_code)) +
geom_col(show.legend = FALSE) +
labs(x = NULL, y = "share of words per category") +
facet_wrap(~cmp_code, ncol = 2, scales = "free_y") +
coord_flip()
manifesto_corpus %>%
docvars() %>%
names() #meta data information
print(brexit_sent)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date => 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
brexit_tokens <- manifesto_corpus %>%
tokens_select("Brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE) %>%
tokens()
brexit_tokens <- manifesto_corpus %>%
tokens() %>%
tokens_select("Brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date => 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
brexit_sent <- brexit_tokens %>%
dfm() %>%
dfm_subset(date => 2016) %>%
brexit_sent <- brexit_tokens %>%
dfm() %>%
dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
View(brexit_sent)
brexit_sent@Dimnames[["docs"]]
brexit_tokens <- manifesto_corpus %>%
corpus_subset(party %in% "513202", "51420") #labour and liberal
brexit_tokens <- manifesto_corpus %>%
corpus_subset(party %in% c("513202", "51420")) #labour and liberal
brexit_tokens <- manifesto_corpus %>%
corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() %>%
tokens_select("Brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
brexit_tokens <- manifesto_corpus %>%
corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() #%>%
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2])
print(brexit_sent)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2]) %>%
dfm_group(party)
brexit_tokens <- manifesto_corpus %>%
#corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() #%>%
brexit_tokens <- manifesto_corpus %>%
#corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() #%>%
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2]) %>%
dfm_group(party)
print(brexit_sent)
brexit_tokens <- manifesto_corpus %>%
#corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() %>%
tokens_select("Brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE)
brexit_sent <- brexit_tokens %>%
dfm() %>%
#dfm_subset(date > 2016) %>%
dfm_lookup(data_dictionary_LSD2015[1:2]) %>%
dfm_group(party)
print(brexit_sent)
View(brexit_sent)
dict_output <- convert(brexit_sent, to = "data.frame")
View(dict_output)
dict_output$sent_score <- log((dict_output$positive + 0.5) / (dict_output$negative + 0.5))
dict_output <- cbind(dict_output, docvars(manifesto_corpus))
tplot_sent <- ggplot(dict_output, aes(x = reorder(name, sent_score), y = sent_score, colour = gov_opp)) + geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
tplot_sent
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = sent_score, colour = gov_opp)) + geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
tplot_sent
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = doc_id) + geom_point(size = 3) +
labs(x = "Parties", y = "Estimated sentiment")
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = doc_id) + geom_point(size = 3) +
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = doc_id) + geom_point(size = 3) +
coord_flip() + labs(x = "Parties", y = "Estimated sentiment"))
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = doc_id) + geom_point(size = 3) +
coord_flip() + labs(x = "Parties", y = "Estimated sentiment")))
tplot_sent <- ggplot(dict_output, aes(x = reorder(sent_score), y = doc_id) + geom_point(size = 3) +
coord_flip() + labs(x = "Parties", y = "Estimated sentiment"))
tplot_sent <- ggplot(dict_output, aes(x =doc_id , y = reorder(sent_score)) + geom_point(size = 3) +
coord_flip() + labs(x = "Parties", y = "Estimated sentiment"))
tplot_sent
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(quanteda)
library(quanteda.textstats)
library(readtext)
library(manifestoR)
mp_setapikey(key.file = "manifesto_apikey.txt")
uk_election_programmes <- mp_corpus(countryname == "United Kingdom")
uk_election_programmes
manifesto_corpus <- uk_election_programmes %>%
as.data.frame(with.meta = TRUE) %>%
corpus(docid_field = "manifesto_id", unique_docnames = FALSE) %>%
#docvars(field = "cmp_code") %>%
corpus()
manifesto_corpus
manifesto_corpus %>%
docvars() %>%
names() #meta data information
scotland_corpus <- manifesto_corpus %>%
corpus_subset(party == "51902")
brexit_tokens <- manifesto_corpus %>%
#corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() %>%
tokens_select("Brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE)
brexit_sent <- brexit_tokens %>%
dfm() %>%
dfm_lookup(data_dictionary_LSD2015[1:2]) %>%
dfm_group(party)
print(brexit_sent)
dict_output <- convert(brexit_sent, to = "data.frame")
View(brexit_sent)
View(dict_output)
sent_df <- convert(brexit_sent, to = "data.frame")
View(sent_df)
dict_output$sent_score <- log((dict_output$positive + 0.5) / (dict_output$negative + 0.5))
sent_df$sent_score <- log((dict_output$positive + 0.5) / (dict_output$negative + 0.5))
tplot_sent <- ggplot(sent_df, aes(x = reorder(sent_score), y = docid()) + geom_point(size = 3) +
coord_flip() + labs(x = "Estimated Sentiment", y = "Parties"))
tplot_sent <- ggplot(sent_df, aes(x = reorder(party, sent_score), y = sent_score + geom_point(size = 3) +
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(party, sent_score), y = sent_score + geom_point(size = 3) +
tplot_sent <- ggplot(sent_df, aes(x = reorder(party, sent_score), y = sent_score + geom_point(size = 3) +
coord_flip() + labs(x = "Estimated Sentiment", y = "Parties")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3) +
coord_flip() + labs(x = "Estimated Sentiment", y = "Parties")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3) +
coord_flip() + labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3) + labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3)) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3))) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = sent_score + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(doc_id, sent_score), y = (sent_score) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = reorder(sent_score), y = (doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = (sent_score), y = (doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- ggplot(sent_df, aes(x = (positive, negative), y = (doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent <- sent_df %>%
ggplot(aes(x = (positive, negative), y = (doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive, sent_df$negative), y = (sent_df$doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive, sent_df$negative), y = (sent_df$doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive), y = (sent_df$doc_id) + geom_point(size = 3) + coord_flip())) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive), y = (sent_df$doc_id))) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive, sent_df$negative), y = (sent_df$doc_id) + geom_point(size = 3))) #labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
tplot_sent <- sent_df %>%
ggplot(aes(x = (sent_df$positive, sent_df$negative), y = (sent_df$doc_id) + geom_point(size = 3)) + labs(x = "Parties", y = "Estimated Sentiment")))
tplot_sent
ggplot(sent_df, mapping = aes(x = docid(), y = negative, positive)) +
geom_bar(stat = "identity", width = 0.5, position = position_dodge(0.8))
ggplot(sent_df, mapping = aes(x = doc_id, y = negative, positive)) +
geom_bar(stat = "identity", width = 0.5, position = position_dodge(0.8))
ggplot(sent_df, mapping = aes(x = doc_id, y = negative, positive), fill = sent_score) +
geom_bar(stat = "identity", width = 0.5, position = position_dodge(0.8))
ggplot(sent_df, mapping = aes(x = doc_id, y = negative, positive), fill = negative, positive) +
geom_bar(stat = "identity", width = 0.5, position = position_dodge(0.8))
brexit_tokens <- manifesto_corpus %>%
#corpus_subset(party %in% c("513202", "51420")) %>%  #labour and liberal
tokens() %>%
tokens_select("brexit", selection = "keep", window = 10, padding = FALSE, verbose = TRUE)
brexit_sent <- brexit_tokens %>%
dfm() %>%
dfm_lookup(data_dictionary_LSD2015[1:2]) %>%
dfm_group(party)
print(brexit_sent)
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = name)) +
geom_point(size = 3) +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = doc_id, fill = name)) +
geom_point(size = 3) +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = doc_id)) +
geom_point(size = 3, fill = name) +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = doc_id)) +
geom_point(size = 3, fill = as.factor(name)) +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative), fill = as.factor(name)) %>%
ggplot(aes(y = value, x = doc_id)) +
geom_bar("dodge") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative), fill = as.factor(name)) %>%
ggplot(aes(y = value, x = doc_id)) +
geom_bar(position = "dodge") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = doc_id)) +
geom_bar(position = "dodge") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = as.factor(doc_id))) +
geom_bar(position = "dodge") +
labs(x = "Parties", y = "Estimated Sentiment")
test<-sent_df %>%
pivot_longer(c(positive, negative))
str(test)
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(y = value, x = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(value), y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(x = "Parties", y = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(y = "Parties", x = "Estimated Sentiment")
dict_output <- cbind(dict_output, docvars(manifesto_corpus))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(y = "Parties", x = "Estimated Sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = value, y = doc_id, fill = as.factor(name))) +
geom_bar(position = "dodge", stat = "identity") +
labs(y = "Parties", x = "Frequencies of words surrounding brexit")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(as.factor(name), sent_score, y = doc_id, colour = as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(y = "Parties", x = "Frequencies of words surrounding brexit"))
class(sent_score)
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(as.factor(name), sent_score, y = doc_id, colour = as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(y = "Parties", x = "Frequencies of words surrounding brexit"))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(as.factor(name)), sent_score, y = doc_id, colour = as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(y = "Parties", x = "Frequencies of words surrounding brexit")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = as.factor(name), colour = )) +
geom_point(size = 3) +
coord_flip() +
labs(y = "Parties", x = "Frequencies of words surrounding brexit")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score, colour =  as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Frequencies of words surrounding brexit")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score, colour =  as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentimen")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score, colour =  as.factor(name))) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score, colour =  "purple")) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score, colour =  "purple")) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
View(uk_election_programmes)
View(uk_election_programmes)
test <- manifesto_corpus %>%
mutate(left_join(docvars(party), doc_id))
test <- manifesto_corpus %>%
test <- manifesto_corpus %>%
(left_join(docvars(party), doc_id))
View(test)
rm(test)
print(brexit_sent) %>%
head(14)
test <- manifesto_corpus %>%
(left_join(docvars(names(party)), doc_id))
test <- manifesto_corpus %>%
(left_join(docvars(names[party]), doc_id))
test <- manifesto_corpus %>%
(left_join(docvars(names$party), doc_id))
test <- manifesto_corpus %>%
(left_join(docvars(party), doc_id))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score>0) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment") +
scale_colour_gradient(low = "green", high = "blue")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment") +
scale_colour_gradient(low = "green", high = "blue")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score) +
geom_point(size = 3) +
scale_colour_gradient(low = "green", high = "blue") +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score) +
geom_point(size = 3, scale_colour_gradient(low = "green", high = "blue") +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
###PROVAggplot(dict_output,
aes(x = reorder(name, sent_score),
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score) +
geom_point(size = 3, scale_colour_gradient(low = "green", high = "blue") +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment"))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), colour = sent_score) +
geom_point(size = 3) + scale_colour_gradient(low = "green", high = "blue") +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), fill =  scale_colour_gradient(sent_score) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
###PROVAggplot(dict_output,
aes(x = reorder(name, sent_score),
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), fill =  scale_colour_gradient(sent_score) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment"))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), fill =  scale_colour_gradient(sent_score)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment"))
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), fill =  scale_colour_gradient(sent_score)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
sent_df %>%
pivot_longer(c(positive, negative)) %>%
ggplot(aes(x = reorder(doc_id, sent_score), y = sent_score), fill =  as.factor(name)) +
geom_point(size = 3) +
coord_flip() +
labs(x = "Parties", y = "Estimated sentiment")
